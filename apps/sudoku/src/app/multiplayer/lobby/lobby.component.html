<div class="lobby-wrapper">
  <header class="lobby-header">
    <div>
      <h1>Multiplayer Sudoku</h1>
      <p>
        Create a room and share the link, or enter a room ID to join a friend.
      </p>
    </div>
    <a mat-stroked-button routerLink="/">Back</a>
  </header>

  <div class="lobby-cards">
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title>Create a Room</mat-card-title>
        <mat-card-subtitle
          >A new board will be fetched and shared with all
          players</mat-card-subtitle
        >
      </mat-card-header>

      <mat-card-content>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Difficulty</mat-label>
          <mat-select
            [value]="selectedDifficulty()"
            (selectionChange)="selectedDifficulty.set($event.value)"
          >
            @for (d of difficulties; track d) {
            <mat-option [value]="d">{{ d | titlecase }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </mat-card-content>

      <mat-card-actions align="end">
        <button
          mat-raised-button
          color="primary"
          (click)="createRoom()"
          [disabled]="isCreating()"
        >
          @if (isCreating()) {
          <mat-spinner diameter="18" />
          <span>Creatingâ€¦</span>
          } @else { Create Room }
        </button>
      </mat-card-actions>
    </mat-card>

    <div class="or-divider">
      <mat-divider />
      <span>or</span>
      <mat-divider />
    </div>

    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title>Join a Room</mat-card-title>
        <mat-card-subtitle
          >Enter the room ID shared by your friend</mat-card-subtitle
        >
      </mat-card-header>

      <mat-card-content>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Room ID</mat-label>
          <input
            matInput
            [formControl]="roomIdControl"
            placeholder="e.g. -OJk2x9abc"
            (keydown.enter)="joinRoom()"
          />
        </mat-form-field>
      </mat-card-content>

      <mat-card-actions align="end">
        <button
          mat-stroked-button
          color="accent"
          (click)="joinRoom()"
          [disabled]="roomIdControl.invalid"
        >
          Join Room
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
